---
layout:     post
title:      ğŸSpringMVCçš„ä½¿ç”¨ğŸ
subtitle:   
date:       2018-07-24
author:     CJ
header-img: img/home-bg-art.jpg
catalog: true
tags:
    - SpringMVCå­¦ä¹ 
---


## ğŸSpringMVCçš„ä½¿ç”¨ğŸ
- å¤§éƒ¨åˆ†ç»„ä»¶éƒ½æ˜¯ç”±æ¡†æ¶æä¾›çš„, æˆ‘ä»¬åªéœ€è¦é€šè¿‡é…ç½®è¿›è¡Œå…³è”
- å¼€å‘è€…åªéœ€æ‰‹åŠ¨ç¼–å†™Handler, View

<br/>

### åŸºäºXmlmé…ç½®çš„ä½¿ç”¨
 1. SpringMVCåŸºç¡€é…ç½®
 2. XMLé…ç½®Controller,HandlerMappingç»„ä»¶æ˜ å°„
 3. XMlé…ç½®ViewResolverç»„ä»¶æ˜ å°„

 <br/>

### é¦–å…ˆåˆ›å»ºä¸€ä¸ªMAVENé¡¹ç›®
é…ç½®`pom.xml`æ–‡ä»¶,å†™å…¥ä¾èµ–:

```
 <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-webmvc</artifactId>
      <version>4.3.1.RELEASE</version>
    </dependency>

```
<br/>



### ç„¶åé…ç½®`xml`æ–‡ä»¶

```
<web-app>
  <display-name>Archetype Created Web Application</display-name>
    
  <servlet>
    <servlet-name>SpringMVC</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>

    <!--é…ç½®springmvc.xmlçš„è·¯å¾„-->
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:springmvc.xml</param-value>
    </init-param>  
  </servlet>
    
    
  <servlet-mapping>
      <servlet-name>SpringMVC</servlet-name>
      <url-pattern>/</url-pattern>
  </servlet-mapping>  


</web-app>

```

### åˆ›å»ºä¸€ä¸ªMyHandlerç±»

```
public class MyHandler implements Controller {

    @Override
    public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) throws Exception {
        //è£…è½½æ¨¡å‹æ•°æ®çš„é€»è¾‘è§†å›¾
        ModelAndView modelAndView = new ModelAndView();
        //æ·»åŠ æ¨¡å‹æ•°æ®
        modelAndView.addObject("name","Tom");
        //æ·»åŠ é€»è¾‘è§†å›¾
        modelAndView.setViewName("show");


        return modelAndView;
    }
}

```

### é…ç½®`springmvc.xml`

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">


<!--é…ç½®HandlerMapping,å°†Urlè¯·æ±‚æ˜ å°„åˆ°Handler-->
    <bean id="hadlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <!--é…ç½®mapping-->
        <property name="mappings">
            <props>
                <!--é…ç½®testè¯·æ±‚å¯¹åº”çš„handler-->
                <prop key="/test">testHandler</prop>
            </props>
        </property>

    </bean>

    <!--é…ç½®Handler-->
    <bean id="testHandler" class="com.imooc.handler.MyHandler"></bean>

    <!--é…ç½®è§†å›¾è§£æå™¨-->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <!--é…ç½®å‰ç¼€-->
        <property name="prefix" value="/"></property>
        <!--é…ç½®åç¼€-->
        <property name="suffix" value=".jsp"></property>

    </bean>


</beans>

```
<br/>
----
<br/>

### ä½¿ç”¨ä¸€ä¸ªjspé¡µé¢æ¥æ˜¾ç¤ºåä¸º`show.jsp`

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page isELIgnored="false" %>
<html>
<head>
    <title>Title</title>
</head>
<body>
   ${name}
</body>
</html>


```
å¯åŠ¨tomcatåé¡µé¢æ˜¾ç¤ºçš„åº”è¯¥ä¹Ÿå°±æ˜¯show.jsp ä¿®æ”¹urlä¸º/teståˆ™æ˜¾ç¤ºä¸ºTom








